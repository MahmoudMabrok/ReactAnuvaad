(this.webpackJsonpanuvaad=this.webpackJsonpanuvaad||[]).push([[0],{253:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),o=a.n(l),s=(a(42),a(43),a(1)),c=a(2),i=a(4),u=a(3),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Anuvaad"),r.a.createElement("p",{className:"lead text-muted"},"Localize your app in global languages"))}}]),a}(r.a.Component),g=a(259),p=a(23),d=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"getFileFromInput",value:function(e){return new Promise((function(t,a){var n=new FileReader;n.onerror=a,n.onload=function(){t(n.result)},n.readAsBinaryString(e)}))}}]),e}(),h=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"getXmlTree",value:function(e){return'{"resources": {"string":'+e+"}}"}}]),e}(),f=function e(){Object(s.a)(this,e)};f.translateText=function(e,t){var a="https://translation.googleapis.com/language/translate/v2?key=AIzaSyAMq9xOA3Yz4ainz4kU9Nw6zCMAHOQid_g&source=en&target="+e;return fetch(a+="&q="+t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})};var b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"custom-file left-align alert alert-info"},r.a.createElement("input",{id:"logo",type:"file",className:"custom-file-input",onChange:this.props.onFileSelect,accept:".xml",multiple:!1}),r.a.createElement("label",{htmlFor:"logo",className:"custom-file-label text-truncate"},"Select strings.xml file"))}}]),a}(r.a.PureComponent),v=a(258),j=a(257),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm",style:{width:520,overflow:"auto",textAlign:"left"}},r.a.createElement(v.a,{language:"xml",showLineNumbers:!0,style:j.a,customStyle:{height:400}},this.props.code))}}]),a}(r.a.Component),y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){e.props.handler(e.props.languageCode)},e}return Object(c.a)(a,[{key:"render",value:function(){var e="btn btn-link col-sm";return this.props.isSelected&&(e="btn btn-success col-sm"),r.a.createElement("button",{className:e,name:this.props.languageName,onClick:this.onClick},this.props.languageName)}}]),a}(r.a.PureComponent),E=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.languageArry.map((function(t){return r.a.createElement(y,{languageCode:t.code,languageName:t.name,handler:e.props.selectLanguageHandler,isSelected:e.props.selectedLanguageCode===t.code})}));return r.a.createElement("div",{className:"row"},t)}}]),a}(r.a.Component),S=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.errorMsg?r.a.createElement("div",{className:"alert alert-warning alert"},this.props.errorMsg):null}}]),a}(r.a.Component),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).translatedXmlString=void 0,n.onLanguageChange=function(e){n.setState({language:e})},n.startTranslation=function(e){n.state.file?(n.translatedXmlString=[],d.getFileFromInput(n.state.file).then((function(e){var t=JSON.parse(Object(p.xml2json)(e,{compact:!0}));n.setState({inputText:e,errorMsg:void 0}),t.resources.string.forEach((function(e,t){e._attributes.translatable||f.translateText(n.state.language,e._text).then((function(t){t.json().then((function(t){var a;(null===(a=t.data)||void 0===a?void 0:a.translations[0])?(e._text=t.data.translations[0].translatedText,n.translatedXmlString.push(e),n.setState({translatedText:Object(p.json2xml)(h.getXmlTree(JSON.stringify(n.translatedXmlString)),{compact:!0,spaces:4})})):n.setState({errorMsg:"Something went wrong, please try again."})}))}))}))}))):n.setState({errorMsg:"Please select a file"})},n.onFileInput=function(e){if(e.persist(),e.target.files){var t=e.target.files[0];d.getFileFromInput(t).then((function(e){try{n.setState({file:t,inputText:e})}catch(a){n.setState({errorMsg:"Please select a valid XML. "+a})}}))}},n.state={inputText:"Select your Strings.xml file from resources",translatedText:"Hit 'Translate' to start",language:"es"},n.translatedXmlString=[],n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(b,{onFileSelect:this.onFileInput}),r.a.createElement("div",null,r.a.createElement(S,{errorMsg:this.state.errorMsg})),r.a.createElement("div",{className:"container pt-md-3 pb-md-3 mx-auto"},r.a.createElement("div",{className:"row"},r.a.createElement(O,{code:this.state.inputText}),r.a.createElement(O,{code:this.state.translatedText}))),r.a.createElement(E,{selectedLanguageCode:this.state.language,languageArry:this.props.languageArray,selectLanguageHandler:this.onLanguageChange}),r.a.createElement("div",{className:"row pt-md-4"},r.a.createElement(g.a,{className:"col-sm",onClick:this.startTranslation,name:"Click Me"},"Translate")))}}]),a}(r.a.Component),x=[{name:"Hindi (\u0939\u093f\u0928\u094d\u0926\u0940)",code:"hi"},{name:"Spanish (espa\xf1ol)",code:"es"},{name:"Chinese (Zh\u014dngw\xe9n)",code:"zh"},{name:"Arabic (\u0627\u064e\u0644\u0652\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u064e\u0651\u0629\u064f)",code:"ar"},{name:"Russian (\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a)",code:"ru"}];var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("a",{className:"github-fork-ribbon",href:"http://github.com/swapnil1104/ReactAnuvaad","data-ribbon":"Fork me on GitHub",title:"Fork me on GitHub"},"Fork me on GitHub"),r.a.createElement(m,null),r.a.createElement(k,{languageArray:x}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,a){e.exports=a(253)},42:function(e,t,a){},43:function(e,t,a){},48:function(e,t){},50:function(e,t){}},[[37,1,2]]]);
//# sourceMappingURL=main.846bfaed.chunk.js.map